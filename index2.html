<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link href="css/main.css" rel="stylesheet" />
        <!-- Include the AngularJS library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.5.4/angular.min.js"></script>
    <script src="bower_components/ngGeolocation/ngGeolocation.min.js"></script>
  </head>
  <body ng-app="RestaurantApp">
    <div id="mainWrapper" ng-controller="MainController">

        <div class="row">
            <h1>Pick a place</h1>
            <h2>Make the following selections and you'll get 7 highest rated places for you to go</h2>
        </div>

         <div class="row">
            <div id="searchWrapper">
                <div>
                    <h3>Enter location where you want to go</h3>
                    <input type="text" ng-model="selectedLocation" placeholder="Enter city, zip code or area" />
                </div>

                <div>
                    <h3>Enter query what you are looking for, for example, bar, restaurant, ice cream, sushi</h3>
                    <input type="text" ng-model="selectedQuery" placeholder="Bar, restaurant, sushi, ice cream" />
                </div>

               <div>
                    <h3>Select price range</h3>
                    <select class="form-control" ng-model="selectedPrice" ng-init="selectedPrice=priceRanges[1]" ng-options="priceRange as priceRange.symbol for priceRange in priceRanges">
                     </select>
                </div>
                <div>
                    <button ng-click="getData()">Search</button>
                </div>
            </div>
        </div> 

        <div class="row">
            <div class="" data-ng-show="placesCount == 0">
                <h5>No Places found Near by ({{selectedLocation}})</h5>
            </div>
         </div>

       <!--=============Displaying results==============-->
        <div class="row">
             <div id="resultsWrapper" class="" data-ng-show="placesCount > 0">
                  <div data-ng-repeat="place in places">
                      <h3>{{place.venue.name}}</h3>
                      <p data-ng-repeat="category in place.venue.categories">Category: {{category.name}}</p>
                      <p>Address: {{place.venue.location.formattedAddress[0]}}, {{place.venue.location.formattedAddress[1]}}</p>
                      <p>Rating: {{place.venue.rating}}</p>
                      <p><a data-ng-show="!isEmptyObject({{place.venue.menu}})"  href={{place.venue.menu.url}}>View Menu</a></p>
                      <a href="{{place.venue.url}}" target="_blank">{{place.venue.url}}</a>
                  </div>   
              </div>
          </div> 


    </div>

    <!-- Modules -->
    <script src="js/app.js"></script>


    <!-- Controllers -->
    <script src="js/controllers/MainController.js"></script>

    <!-- Services -->
  <script src="js/services/restaurant.js"></script>
  <script src="js/services/location.js"></script>
    <!-- Directives -->




  </body>
</html>